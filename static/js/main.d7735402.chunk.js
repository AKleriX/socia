(this.webpackJsonpsocia=this.webpackJsonpsocia||[]).push([[0],{135:function(e,t,a){e.exports=a.p+"static/media/sociaLogoName.0dd2b8ba.png"},136:function(e,t,a){e.exports=a.p+"static/media/user.807ca40d.svg"},137:function(e,t,a){e.exports=a.p+"static/media/search.a99213df.svg"},138:function(e,t,a){e.exports=a.p+"static/media/logout.50f8d069.svg"},139:function(e,t,a){e.exports=a.p+"static/media/login.2febff40.svg"},140:function(e,t,a){e.exports=a.p+"static/media/pagesPreloader.27a9f79d.svg"},141:function(e,t,a){e.exports=a.p+"static/media/loginPreloader.d1465b42.svg"},142:function(e,t,a){e.exports=a.p+"static/media/camera.ead9e08b.png"},143:function(e,t,a){e.exports=a.p+"static/media/aboutMe.0ab9ee97.svg"},144:function(e,t,a){e.exports=a.p+"static/media/contact.add3a746.svg"},145:function(e,t,a){e.exports=a.p+"static/media/skills.ec2d71a7.svg"},147:function(e,t,a){e.exports=a.p+"static/media/edit.f067b70e.svg"},149:function(e,t,a){e.exports=a.p+"static/media/searchIcon.af2912ac.svg"},177:function(e,t,a){e.exports=a(306)},182:function(e,t,a){},183:function(e,t,a){},20:function(e,t,a){e.exports={formControl:"FormsControls_formControl__D8VXR",error:"FormsControls_error__mOuia",formSummaryError:"FormsControls_formSummaryError__3cADA"}},21:function(e,t,a){e.exports={profileSectionCol:"ProfileHeader_profileSectionCol__399LU",profileAuthor:"ProfileHeader_profileAuthor__24tWH",profileAuthorThumb:"ProfileHeader_profileAuthorThumb__3B-ao",editDP:"ProfileHeader_editDP__1Do3P",fileContainer:"ProfileHeader_fileContainer__2wvjS",cameraIcon:"ProfileHeader_cameraIcon__1cF7J",authorContent:"ProfileHeader_authorContent__2cc_k",isOwnerAuthorContent:"ProfileHeader_isOwnerAuthorContent__Q_RT6",authorName:"ProfileHeader_authorName__HxGGU",authorStatus:"ProfileHeader_authorStatus__31Y_t"}},22:function(e,t,a){e.exports={profileNavbarCol:"ProfileNavbar_profileNavbarCol__2ehO2",profileNavbar:"ProfileNavbar_profileNavbar__1KyCE",profileNavbarItem:"ProfileNavbar_profileNavbarItem__3_2JE",activeLink:"ProfileNavbar_activeLink__fY6IK"}},25:function(e,t,a){e.exports={profileContainer:"Profile_profileContainer__1nkd0",container:"Profile_container__30W2n",row:"Profile_row__2iZDl",col:"Profile_col__Zwdqd",colContainer:"Profile_colContainer__yhWbN",userProfile:"Profile_userProfile__1_z-q",profileSection:"Profile_profileSection__XQcNZ",profileSectionRow:"Profile_profileSectionRow__1DiVF",profileContent:"Profile_profileContent__16tfL"}},26:function(e,t,a){e.exports={settingsArea:"Navbar_settingsArea__3f1Lx",settingIcon:"Navbar_settingIcon__2cPD1",settingActive:"Navbar_settingActive__SmIAr",userLogin:"Navbar_userLogin__3Ga6-"}},27:function(e,t,a){e.exports={centralMetaContainer:"Login_centralMetaContainer__1CxyI",centralMeta:"Login_centralMeta__1TJR5",pageName:"Login_pageName__2TkyW",loginInput:"Login_loginInput__3-2f1",loginButton:"Login_loginButton__3mgwv"}},306:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(68),l=a.n(o),i=(a(182),a(183),a(11)),c=a(10),s=a(8),u=a(6),f=a.n(u),m=a(12),d=a(41),p=a(134).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"274815a1-0648-4039-8a5e-cbd1e3d20df1"}}),g=function(){return p.get("auth/me").then((function(e){return e.data}))},h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p.post("auth/login",{email:e,password:t,rememberMe:a,captcha:r}).then((function(e){return e.data}))},E=function(){return p.delete("auth/login").then((function(e){return e.data}))},b=function(){return p.get("security/get-captcha-url").then((function(e){return e.data}))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return p.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(a,"&friend=").concat(r||"")).then((function(e){return e.data}))},_={follow:function(e){return p.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return p.delete("follow/".concat(e)).then((function(e){return e.data}))}},P={getProfileData:function(e){return p.get("profile/".concat(e)).then((function(e){return e.data}))},getProfileStatus:function(e){return p.get("profile/status/".concat(e)).then((function(e){return e.data}))},setProfileData:function(e){return p.put("profile",e).then((function(e){return e.data}))},setProfileStatus:function(e){return p.put("profile/status/",{status:e}).then((function(e){return e.data}))},setProfilePhoto:function(e){var t=new FormData;return t.append("image",e),p.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}},N=a(30),C="socia/auth-reducer/SET-AUTH-USER",w="socia/auth-reducer/SET-CAPTCHA-URL",S="socia/auth-reducer/INITIALIZED-SUCCESS",O={userId:null,login:null,email:null,isAuth:!1,captchaURL:null,initialized:!1},I=Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var a=[t.email,t.login,t.id,t.isAuth];e.email=a[0],e.login=a[1],e.userId=a[2],e.isAuth=a[3];break;case w:e.captchaURL=t.captchaURL;break;case S:e.initialized=!0;break;default:return e}})),k=function(e,t){var a=e.id,r=e.email,n=e.login;return{type:C,isAuth:t,id:a,email:r,login:n}},x=function(e){return{type:w,captchaURL:e}},U=function(){return function(){var e=Object(m.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:0===(a=e.sent).resultCode&&t(k(a.data,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(){var e=Object(m.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:a=e.sent,t(x(a.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=I,A=a(135),M=a.n(A),L=a(136),F=a.n(L),T=a(137),D=a.n(T),R=a(138),B=a.n(R),z=a(26),H=a.n(z),J=function(e){var t=e.login,a=e.logout,r=e.userId;return n.a.createElement("ul",{className:H.a.settingsArea},n.a.createElement("li",null,n.a.createElement(c.b,{activeClassName:H.a.settingActive,to:"/users"},n.a.createElement("img",{className:H.a.settingIcon,src:D.a,alt:"Users"}))),n.a.createElement("li",null,n.a.createElement(c.b,{activeClassName:H.a.settingActive,to:"/profile/".concat(r,"/")},n.a.createElement("img",{className:H.a.settingIcon,src:F.a,alt:"Profile"}))),n.a.createElement("li",null,n.a.createElement(c.b,{className:H.a.userLogin,activeClassName:H.a.settingActive,to:"/profile/".concat(r,"/")},t)),n.a.createElement("li",null,n.a.createElement("img",{onClick:a,className:H.a.settingIcon,src:B.a,alt:"Logout"})))},V=a(139),G=a.n(V),q=a(45),W=a.n(q),Y=a(140),Q=a.n(Y),Z=a(141),K=a.n(Z),X=a(97),$=a.n(X),ee=function(){return n.a.createElement("img",{className:$.a.preloader,src:Q.a,alt:"Loading..."})},te=function(){return n.a.createElement("img",{className:$.a.loginPreloader,src:K.a,alt:"Authorization..."})},ae=function(e){var t=e.isAuth,a=e.login,r=e.logout,o=e.initialized,l=e.userId;return n.a.createElement("div",{className:W.a.header},n.a.createElement("div",{className:W.a.logoBox},n.a.createElement(c.b,{to:"/"},n.a.createElement("img",{className:W.a.logo,src:M.a,alt:"Logo"}))),o?t?n.a.createElement(J,{login:a,logout:r,userId:l}):n.a.createElement(c.b,{activeClassName:W.a.loginActive,to:"/login"},n.a.createElement("img",{className:W.a.loginIcon,src:G.a,alt:"Login"})):n.a.createElement(te,null))},re=Object(i.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth,userId:e.auth.userId,initialized:e.auth.initialized}}),{logout:function(){return function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===e.sent.resultCode&&t(k({id:null,email:null,login:null},!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return n.a.createElement(ae,e)})),ne=a(36),oe=a(57),le="socia/profile-reducer/SET-PROFILE-DATA",ie="socia/profile-reducer/SET-PROFILE-STATUS",ce="socia/profile-reducer/SET-PROFILE-EDIT-MODE",se="socia/profile-reducer/SET-PROFILE-PHOTO",ue={profile:null,status:null,editModeProfile:!1},fe=Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:e.profile=t.profile;break;case ie:e.status=t.status;break;case ce:e.editModeProfile=t.editMode;break;case se:e.profile.photos=t.photos;break;default:return e}})),me=function(e){return{type:le,profile:e}},de=function(e){return{type:ie,status:e}},pe=function(e){return{type:ce,editMode:e}},ge=function(e){return{type:se,photos:e}},he=function(e){return function(){var t=Object(m.a)(f.a.mark((function t(a){var r,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=5;break}return t.next=3,g();case 3:0===(r=t.sent).resultCode&&(e=r.data.id);case 5:return t.next=7,P.getProfileData(e);case 7:n=t.sent,a(me(n));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ee=function(){var e=Object(m.a)(f.a.mark((function e(t,a,r,n){var o,l,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length>4&&void 0!==i[4]?i[4]:null,e.next=3,r(a);case 3:0===(l=e.sent).resultCode&&(null===o&&(o=l.data.photos),t(n(o)));case 5:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),be=fe,ve=a(9),_e=a(72),Pe=a.n(_e),Ne=a(37),Ce=a(20),we=a.n(Ce),Se=a(18),Oe=a.n(Se),Ie=function(e){var t=e.status,a=e.setNewProfileStatus,o=e.isOwner,l=Object(r.useState)(!1),i=Object(Ne.a)(l,2),c=i[0],s=i[1],u=Object(r.useState)(t),f=Object(Ne.a)(u,2),m=f[0],d=f[1],p=Object(r.useState)({textError:null,hasErrorStyle:null}),g=Object(Ne.a)(p,2),h=g[0],E=g[1];Object(r.useEffect)((function(){d(t)}),[t]);var b=function(e){if(o)if(e)E({textError:null,hasErrorStyle:null}),s(e);else{if(m.length>=300)return void E({textError:"Max length: 300 symbols",hasErrorStyle:Oe()(we.a.formControl,we.a.error)});s(e),a(m)}};return n.a.createElement("div",null,c?n.a.createElement("div",{className:h.hasErrorStyle},n.a.createElement("input",{autoFocus:!0,onBlur:function(){return b(!1)},onChange:function(e){d(e.currentTarget.value)},value:m}),h.textError&&n.a.createElement("p",{className:we.a.formSummaryError},h.textError)):n.a.createElement("div",null,n.a.createElement("span",{onDoubleClick:function(){b(!0)}},t||"")))},ke=a(21),xe=a.n(ke),Ue=a(142),ye=a.n(Ue),je=function(e){var t=e.profile,a=e.isOwner,r=e.onMainPhotoSelected,o=e.status,l=e.setNewProfileStatus;return n.a.createElement("div",{className:xe.a.profileSectionCol},n.a.createElement("div",{className:xe.a.profileAuthor},n.a.createElement("div",{className:xe.a.profileAuthorThumb},n.a.createElement("img",{alt:"author",src:t.photos.large||Pe.a}),a&&n.a.createElement("div",{className:xe.a.editDP},n.a.createElement("label",{className:xe.a.fileContainer},n.a.createElement("img",{alt:"camera",src:ye.a,className:xe.a.cameraIcon}),n.a.createElement("input",{type:"file",onChange:r}))),n.a.createElement("div",{className:a?xe.a.isOwnerAuthorContent:xe.a.authorContent},n.a.createElement("div",{className:xe.a.authorName},n.a.createElement(c.b,{to:"/profile/".concat(t.userId,"/")},t.fullName)),n.a.createElement("div",{className:xe.a.authorStatus},n.a.createElement(Ie,{status:o,setNewProfileStatus:l,isOwner:a}))))))},Ae=a(22),Me=a.n(Ae),Le=function(e){var t=e.profile,a=e.isOwner;return n.a.createElement("div",{className:Me.a.profileNavbarCol},n.a.createElement("ul",{className:Me.a.profileNavbar},n.a.createElement("li",{className:Me.a.profileNavbarItem},n.a.createElement(c.b,{activeClassName:Me.a.activeLink,to:"/profile/".concat(t.userId,"/about")},"About")),n.a.createElement("li",{className:Me.a.profileNavbarItem},n.a.createElement(c.b,{activeClassName:Me.a.activeLink,to:"/profile/".concat(t.userId,"/contacts")},"Contacts")),n.a.createElement("li",{className:Me.a.profileNavbarItem},n.a.createElement(c.b,{activeClassName:Me.a.activeLink,to:"/profile/".concat(t.userId,"/job")},"Job")),a&&n.a.createElement("li",{className:Me.a.profileNavbarItem},n.a.createElement(c.b,{activeClassName:Me.a.activeLink,to:"/profile/".concat(t.userId,"/edit")},"Edit"))))},Fe=a(75),Te=a.n(Fe),De=a(143),Re=a.n(De),Be=function(e){var t=e.aboutMe;return n.a.createElement("div",{className:Te.a.tabPanel},n.a.createElement("div",{className:Te.a.centralMeta},n.a.createElement("div",{className:Te.a.pageName},n.a.createElement("img",{alt:"about me",src:Re.a}),"\xa0About me:"),n.a.createElement("p",null,t)))},ze=a(76),He=a.n(ze),Je=a(144),Ve=a.n(Je),Ge=function(e){var t=e.contactTitle,a=e.contactValue,r=a;return-1===r.indexOf("http")&&(r="https://".concat(a)),n.a.createElement("p",null,n.a.createElement("b",null,t),": ",n.a.createElement("a",{href:r},a))},qe=function(e){var t=e.contacts,a=Object.keys(t).filter((function(e){return!!t[e]}));return n.a.createElement("div",{className:He.a.tabPanel},n.a.createElement("div",{className:He.a.centralMeta},n.a.createElement("div",{className:He.a.pageName},n.a.createElement("img",{src:Ve.a,alt:"Contacts"}),"\xa0Contacts:"),0===a.length?n.a.createElement("p",null,"No contacts"):a.map((function(e){return n.a.createElement(Ge,{key:e,contactTitle:e,contactValue:t[e]})}))))},We=a(46),Ye=a.n(We),Qe=a(145),Ze=a.n(Qe),Ke=function(e){var t=e.lookingForAJob,a=e.lookingForAJobDescription;return n.a.createElement("div",{className:Ye.a.tabPanel},n.a.createElement("div",{className:Ye.a.centralMeta},n.a.createElement("div",{className:Ye.a.pageName},n.a.createElement("img",{src:Ze.a,alt:"Job"}),"\xa0Job:"),t?n.a.createElement("div",null,n.a.createElement("p",null,"I am looking for a yob!"),n.a.createElement("div",{className:Oe()(Ye.a.pageName,Ye.a.altPageName)},"\xa0My skills:"),n.a.createElement("p",null,a)):n.a.createElement("div",null,n.a.createElement("p",null,"I am ",n.a.createElement("b",null,"NOT")," looking for a job!"))))},Xe=a(130),$e=function(e){e.input;var t=e.meta,a=t.touched,r=t.error,o=e.children,l=a&&r?we.a.error:"";return n.a.createElement("div",{className:Oe()(we.a.formControl,l)},n.a.createElement("div",null,o),a&&r&&n.a.createElement("span",null,r))},et=function(e){var t=e.input,a=(e.meta,e.child,Object(ne.a)(e,["input","meta","child"]));return n.a.createElement($e,e,n.a.createElement("textarea",Object.assign({},t,a)))},tt=function(e){var t=e.input,a=(e.meta,e.child,Object(ne.a)(e,["input","meta","child"]));return n.a.createElement($e,e,n.a.createElement("input",Object.assign({},t,a)))},at=function(e,t,a,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return n.a.createElement("div",null,n.a.createElement(Xe.a,Object.assign({placeholder:e,name:t,component:r,validate:a},o)),""!==l?n.a.createElement("span",null,l):"")},rt=a(131),nt=a(77),ot=a.n(nt),lt=a(147),it=a.n(lt),ct=Object(rt.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,r=e.error,o=e.editModeProfile,l=o?"":"disabled";return n.a.createElement("form",{onSubmit:t},o&&n.a.createElement("button",{disabled:l},"Save"),r&&n.a.createElement("div",{className:we.a.formSummaryError},r),n.a.createElement("div",null,n.a.createElement("b",null,"Full Name"),": ",at("Full name","fullName",[],tt,{disabled:l})),n.a.createElement("div",null,n.a.createElement("b",null,"About me"),": ",at("About me","aboutMe",[],et,{disabled:l})),n.a.createElement("div",null,n.a.createElement("b",null,"Contacts"),": ",n.a.createElement("ul",null,Object.keys(a.contacts).map((function(e){return n.a.createElement("li",{key:e},n.a.createElement("b",null,e),": ",at(e,"contacts."+e,[],tt,{disabled:l}))})))),n.a.createElement("div",null,n.a.createElement("b",null,"Looking for a job"),": ",at("","lookingForAJob",[],tt,{type:"checkbox",disabled:l})),n.a.createElement("div",null,n.a.createElement("b",null,"My professional skills"),": ",at("My professional skills","lookingForAJobDescription",[],et,{disabled:l})))})),st=function(e){var t=e.profile,a=e.onEditFormSubmit,r=e.editModeProfile,o=e.setProfileEditMode;return n.a.createElement("div",{className:ot.a.tabPanel},n.a.createElement("div",{className:ot.a.centralMeta},n.a.createElement("div",{className:ot.a.pageName},n.a.createElement("img",{alt:"edit",src:it.a}),"\xa0Edit profile:"),!r&&n.a.createElement("button",{onClick:function(){return o(!0)}},"Edit"),n.a.createElement(ct,{profile:t,initialValues:t,onSubmit:a,editModeProfile:r})))},ut=function(e){var t=e.profile,a=e.setProfileEditMode,r=e.editModeProfile,o=e.onEditFormSubmit,l=e.userIdInURL,i=e.authUserId;return n.a.createElement(s.d,null,n.a.createElement(s.b,{exact:!0,path:"/profile/:userId?"},n.a.createElement(s.a,{from:"/profile",to:"/profile/".concat(l||i,"/about")})),n.a.createElement(s.b,{path:"/profile/:userId/about",render:function(){return n.a.createElement(Be,{aboutMe:t.aboutMe})}}),n.a.createElement(s.b,{path:"/profile/:userId/contacts",render:function(){return n.a.createElement(qe,{contacts:t.contacts})}}),n.a.createElement(s.b,{path:"/profile/:userId/job",render:function(){return n.a.createElement(Ke,{lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription})}}),n.a.createElement(s.b,{path:"/profile/:userId/edit",render:function(){return n.a.createElement(st,{profile:t,onEditFormSubmit:o,editModeProfile:r,setProfileEditMode:a})}}))},ft=a(25),mt=a.n(ft),dt=Object(ve.d)(s.g,Object(i.b)((function(e){return{authUserId:e.auth.userId,profile:e.profile.profile,status:e.profile.status,editModeProfile:e.profile.editModeProfile}}),{getProfileData:he,getProfileStatus:function(e){return function(){var t=Object(m.a)(f.a.mark((function t(a){var r,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=5;break}return t.next=3,g();case 3:0===(r=t.sent).resultCode&&(e=r.data.id);case 5:return t.next=7,P.getProfileStatus(e);case 7:n=t.sent,a(de(n));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setNewProfileStatus:function(e){return function(){var t=Object(m.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee(a,e,P.setProfileStatus.bind(P),de,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setNewProfilePhoto:function(e){return function(){var t=Object(m.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee(a,e,P.setProfilePhoto.bind(P),ge);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setNewProfileData:function(e){return function(){var t=Object(m.a)(f.a.mark((function t(a,r){var n,o,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r().auth.userId,t.next=3,P.setProfileData(e);case 3:0===(o=t.sent).resultCode?(a(he(n)),a(pe(!1))):(l={},o.messages.forEach((function(e){var t=e.indexOf(">")+1,a=e.indexOf(")"),r=e.slice(t,a);l[r.toLowerCase()]=e})),a(Object(N.a)("edit-profile",{contacts:Object(oe.a)({},l)})),a(pe(!0)));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},setProfileData:me,setProfileStatus:de,setProfileEditMode:pe}))((function(e){var t=e.profile,a=e.authUserId,o=e.status,l=e.editModeProfile,i=e.getProfileData,c=e.getProfileStatus,s=e.setNewProfileStatus,u=e.setNewProfilePhoto,f=e.setNewProfileData,m=e.setProfileData,d=e.setProfileStatus,p=e.setProfileEditMode,g=Object(ne.a)(e,["profile","authUserId","status","editModeProfile","getProfileData","getProfileStatus","setNewProfileStatus","setNewProfilePhoto","setNewProfileData","setProfileData","setProfileStatus","setProfileEditMode"]),h=!g.match.params.userId||Number(g.match.params.userId)===a,E=function(){var e=g.match.params.userId;e||(e=a)?(m(null),d(null),i(e),c(e)):g.history.push("/login")};if(Object(r.useEffect)(E,[]),Object(r.useEffect)(E,[g.match.params.userId]),!t)return n.a.createElement(ee,null);return n.a.createElement("section",null,n.a.createElement("div",{className:mt.a.profileContainer},n.a.createElement("div",{className:mt.a.container},n.a.createElement("div",{className:mt.a.row},n.a.createElement("div",{className:mt.a.col},n.a.createElement("div",{className:mt.a.colContainer},n.a.createElement("div",{className:mt.a.userProfile},n.a.createElement("div",{className:mt.a.profileSection},n.a.createElement("div",{className:mt.a.profileSectionRow},n.a.createElement(je,{profile:t,isOwner:h,onMainPhotoSelected:function(e){e.target.files.length&&u(e.target.files[0])},status:o,setNewProfileStatus:s}),n.a.createElement("div",null,n.a.createElement(Le,{profile:t,isOwner:h}))))),n.a.createElement("div",{className:mt.a.profileContent},n.a.createElement("div",null,n.a.createElement(ut,{profile:t,setProfileEditMode:p,editModeProfile:l,onEditFormSubmit:function(e){f(e)},userIdInURL:g.match.params.userId,authUserId:a})))))))))})),pt=function(e){if(!e)return"Field is required"},gt=a(27),ht=a.n(gt),Et=Object(rt.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.error,r=e.captchaURL;return n.a.createElement("form",{onSubmit:t},n.a.createElement("div",{className:ht.a.loginInput},at("Email","email",[pt],tt)),n.a.createElement("div",{className:ht.a.loginInput},at("Password","password",[pt],tt,{type:"password"})),n.a.createElement("div",{className:ht.a.loginInput},at(null,"rememberMe",[],tt,{type:"checkbox"},"remember me")),r&&n.a.createElement("img",{src:r,alt:"captcha"}),r&&n.a.createElement("div",{className:ht.a.loginInput},at("Symbols from image","captcha",[pt],tt)),a&&n.a.createElement("div",{className:Oe()(we.a.formSummaryError)},a),n.a.createElement("div",{className:ht.a.loginButton},n.a.createElement("button",null,"Login")))})),bt=Object(i.b)((function(e){return{captchaURL:e.auth.captchaURL,isAuth:e.auth.isAuth}}),{login:function(e,t,a,r){return function(){var n=Object(m.a)(f.a.mark((function n(o){var l,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h(e,t,a,r);case 2:0===(l=n.sent).resultCode?o(U()):(10===l.resultCode&&o(y()),i=l.messages.length>0?l.messages[0]:"Sorry, there was some error",o(Object(N.a)("login",{_error:i})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuth,r=e.captchaURL;return a?n.a.createElement(s.a,{to:"/profile"}):n.a.createElement("div",{className:ht.a.centralMetaContainer},n.a.createElement("div",{className:ht.a.centralMeta},n.a.createElement("h1",{className:ht.a.pageName},"Login"),n.a.createElement(Et,{onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha)},captchaURL:r})))})),vt=a(151),_t=function(e,t,a,r){return e.map((function(e){return e[a]===t?Object(oe.a)(Object(oe.a)({},e),r):e}))},Pt="socia/users-reducer/SET-USERS",Nt="socia/users-reducer/FOLLOW-SUCCESS",Ct="socia/users-reducer/UNFOLLOW-SUCCESS",wt="socia/users-reducer/TOGGLE-IS-FETCHING",St={users:[],pageSize:10,totalUsersCount:0,isFetching:!1,followingIsProgress:[]},Ot=Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"socia/users-reducer/SET-TOTAL-USERS-COUNT":e.totalUsersCount=t.totalUsersCount;break;case Pt:e.users=t.users;break;case Nt:e.users=_t(e.users,t.userId,"id",{followed:!0});break;case Ct:e.users=_t(e.users,t.userId,"id",{followed:!1});break;case wt:e.isFetching=t.isFetching;break;case"socia/users-reducer/TOGGLE-IS-FETCHING-PROGRESS":e.followingIsProgress=t.isFetching?[].concat(Object(vt.a)(e.followingIsProgress),[t.userId]):e.followingIsProgress.filter((function(e){return e!==t.userId}));break;default:return e}})),It=function(e){return{type:"socia/users-reducer/SET-TOTAL-USERS-COUNT",totalUsersCount:e}},kt=function(e){return{type:Pt,users:e}},xt=function(e){return{type:Nt,userId:e}},Ut=function(e){return{type:Ct,userId:e}},yt=function(e){return{type:wt,isFetching:e}},jt=function(e,t){return{type:"socia/users-reducer/TOGGLE-IS-FETCHING-PROGRESS",isFetching:e,userId:t}},At=function(){var e=Object(m.a)(f.a.mark((function e(t,a,r,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(jt(!0,a)),e.next=3,r(a);case 3:0===e.sent.resultCode&&t(n(a)),t(jt(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),Mt=Ot,Lt=a(148),Ft=a.n(Lt),Tt=a(47),Dt=a.n(Tt),Rt=function(e){var t=e.currentPage,a=e.onPageChanged,r=e.totalUsersCount,o=e.pageSize;return n.a.createElement("div",{className:Dt.a.paginatorContainer},n.a.createElement(Ft.a,{pageCount:Math.ceil(r/o),previousLabel:"<-",nextLabel:"->",breakLabel:"...",marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:a,initialPage:t-1,containerClassName:Dt.a.pagination,subContainerClassName:Oe()(Dt.a.pagination,Dt.a.pages),activeClassName:Oe()(Dt.a.active)}))},Bt=a(38),zt=a.n(Bt),Ht=function(e){var t=e.user,a=e.followingIsProgress,r=e.unfollowUser,o=e.followUser;return n.a.createElement("div",{className:zt.a.userCol},n.a.createElement("div",{className:zt.a.userBlock},n.a.createElement("div",{className:zt.a.userAvatarBlock},n.a.createElement("div",null,n.a.createElement(c.b,{to:"/profile/".concat(t.id)},n.a.createElement("img",{className:zt.a.userPhoto,src:null!=t.photos.small?t.photos.small:Pe.a,alt:"Profile"}))),n.a.createElement("div",{className:zt.a.followButton},t.followed?n.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Unfollow"):n.a.createElement("button",{disabled:a.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"Follow"))),n.a.createElement("div",{className:zt.a.nameBlock},n.a.createElement("span",null,n.a.createElement("div",null,n.a.createElement(c.b,{to:"/profile/".concat(t.id)},n.a.createElement("h4",null,t.name))),n.a.createElement("div",null,t.status)))))},Jt=function(e){return{isAuth:e.auth.isAuth}},Vt=a(58),Gt=a.n(Vt),qt=a(149),Wt=a.n(qt),Yt=function(e){var t=e.users,a=e.pageSize,r=e.totalUsersCount,o=e.currentPage,l=e.isFetching,i=e.followingIsProgress,c=e.followUser,s=e.unfollowUser,u=e.onPageChanged,f=e.changeSearchValue,m=e.searchValue,d=e.checkValue,p=e.onChangeCheckValue,g=e.onRequestSettingsChange;return n.a.createElement("div",null,n.a.createElement("div",{className:Gt.a.centralMetaContainer},n.a.createElement("div",{className:Gt.a.centralMeta},n.a.createElement("div",{className:Gt.a.searchBlock},n.a.createElement("div",{className:Gt.a.searchCol},n.a.createElement("input",{value:m,onChange:function(e){return f(e.currentTarget.value)},placeholder:"Search user name"}),n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",checked:d,onChange:p}),"\xa0Friend\xa0"),n.a.createElement("button",{onClick:g},n.a.createElement("img",{src:Wt.a,alt:"search"})))),n.a.createElement(Rt,{currentPage:o,onPageChanged:u,totalUsersCount:r,pageSize:a}))),l?n.a.createElement(ee,null):t.map((function(e){return n.a.createElement(Ht,{key:e.id,user:e,followingIsProgress:i,unfollowUser:s,followUser:c})})))},Qt=Object(ve.d)(Object(i.b)((function(e){return{users:e.users.users,pageSize:e.users.pageSize,totalUsersCount:e.users.totalUsersCount,isFetching:e.users.isFetching,followingIsProgress:e.users.followingIsProgress}}),{requestUsers:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var n=Object(m.a)(f.a.mark((function n(o){var l;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(yt(!0)),o(kt([])),n.next=4,v(e,t,a,r);case 4:l=n.sent,o(yt(!1)),o(kt(l.items)),o(It(l.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followUser:function(e){return function(){var t=Object(m.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At(a,e,_.follow.bind(_),xt);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowUser:function(e){return function(){var t=Object(m.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,At(a,e,_.unfollow.bind(_),Ut);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),s.g,(function(e){return Object(i.b)(Jt)((function(t){return t.isAuth?n.a.createElement(e,t):n.a.createElement(s.a,{to:"/login"})}))}))((function(e){var t=e.users,a=e.pageSize,o=e.totalUsersCount,l=e.isFetching,i=e.followingIsProgress,c=e.requestUsers,s=e.followUser,u=e.unfollowUser,f=Object(ne.a)(e,["users","pageSize","totalUsersCount","isFetching","followingIsProgress","requestUsers","followUser","unfollowUser"]),m=f.match.params.page||1,d=Object(r.useState)(f.match.params.search||""),p=Object(Ne.a)(d,2),g=p[0],h=p[1],E=Object(r.useState)(Boolean(Number(f.match.params.friend))),b=Object(Ne.a)(E,2),v=b[0],_=b[1];Object(r.useEffect)((function(){c(m,a)}),[m,a,c]);return n.a.createElement(Yt,{users:t,pageSize:a,totalUsersCount:o,currentPage:m,isFetching:l,followingIsProgress:i,requestUsers:c,followUser:s,unfollowUser:u,onPageChanged:function(e){c(e.selected+1,a,f.match.params.search||"",Boolean(Number(f.match.params.friend))),_(Boolean(Number(f.match.params.friend))),h(f.match.params.search||""),f.history.push("/users/page=".concat(e.selected+1,"search=").concat(f.match.params.search||"","friend=").concat(f.match.params.friend||0))},searchValue:g,changeSearchValue:h,checkValue:v,onChangeCheckValue:function(e){_(!v)},onRequestSettingsChange:function(){c(1,a,g,v),f.history.push("/users/page=".concat(1,"search=",g,"friend=").concat(v?1:0))}})})),Zt=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"404"),n.a.createElement("p",null,"Page not found"))},Kt=Object(i.b)((function(e){return{initialized:e.auth.initialized}}),{initializeApp:function(){return function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(U());case 2:e.sent,t({type:S});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.initializeApp,a=e.initialized;return Object(r.useEffect)((function(){t()})),n.a.createElement(c.a,null,n.a.createElement(re,null),a?n.a.createElement(s.d,null,n.a.createElement(s.b,{exact:!0,path:"/"},n.a.createElement(s.a,{from:"/",to:"/profile"})),n.a.createElement(s.b,{path:"/profile/:userId?",render:function(){return n.a.createElement(dt,null)}}),n.a.createElement(s.b,{path:"/login",render:function(){return n.a.createElement(bt,null)}}),n.a.createElement(s.b,{exact:!0,path:"/users"},n.a.createElement(s.a,{from:"/users",to:"/users/page=search=friend="})),n.a.createElement(s.b,{path:"/users/page=:page?search=:search?friend=:friend?",render:function(){return n.a.createElement(Qt,null)}}),n.a.createElement(s.b,{path:"*",render:function(){return n.a.createElement(Zt,null)}})):n.a.createElement(ee,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xt=a(132),$t=a(150),ea=Object(ve.c)({form:Xt.a,auth:j,profile:be,users:Mt}),ta=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.d,aa=Object(ve.e)(ea,ta(Object(ve.a)($t.a)));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.a,{store:aa},n.a.createElement(Kt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){e.exports={userPhoto:"User_userPhoto__2TVr0",userBlock:"User_userBlock__7sadK",userAvatarBlock:"User_userAvatarBlock__3Cdd5",followButton:"User_followButton__3eh0U",nameBlock:"User_nameBlock__3hzkC",userCol:"User_userCol__32ezZ"}},45:function(e,t,a){e.exports={header:"Header_header__2Q1YE",logoBox:"Header_logoBox__1jmlS",logo:"Header_logo__21Qbu",loginIcon:"Header_loginIcon__nBhnW",loginActive:"Header_loginActive__2sdzF"}},46:function(e,t,a){e.exports={tabPanel:"ProfileJob_tabPanel__3pQcQ",centralMeta:"ProfileJob_centralMeta__1661F",pageName:"ProfileJob_pageName__2_zyN",altPageName:"ProfileJob_altPageName__2MkG8"}},47:function(e,t,a){e.exports={pagination:"Paginator_pagination__3VPqM",active:"Paginator_active__1kgh2",paginatorContainer:"Paginator_paginatorContainer__1IAFN"}},58:function(e,t,a){e.exports={centralMetaContainer:"Users_centralMetaContainer__YgZdi",centralMeta:"Users_centralMeta__1yEeY",searchBlock:"Users_searchBlock__MzY_O",searchCol:"Users_searchCol__1gIds"}},72:function(e,t,a){e.exports=a.p+"static/media/defaultUser.d9f433b0.png"},75:function(e,t,a){e.exports={tabPanel:"ProfileAbout_tabPanel__bKOfm",centralMeta:"ProfileAbout_centralMeta__18Wd-",pageName:"ProfileAbout_pageName__1hEgY"}},76:function(e,t,a){e.exports={tabPanel:"ProfileContacts_tabPanel__3Yxqq",centralMeta:"ProfileContacts_centralMeta__6Gvww",pageName:"ProfileContacts_pageName__3DFTD"}},77:function(e,t,a){e.exports={tabPanel:"ProfileEditPage_tabPanel__1dqA9",centralMeta:"ProfileEditPage_centralMeta__3Q6pk",pageName:"ProfileEditPage_pageName__2SFVj"}},97:function(e,t,a){e.exports={preloader:"Preloader_preloader__2WW9w",loginPreloader:"Preloader_loginPreloader__2Pmqf"}}},[[177,1,2]]]);
//# sourceMappingURL=main.d7735402.chunk.js.map